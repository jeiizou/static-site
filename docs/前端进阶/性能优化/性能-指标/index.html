<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-前端进阶/性能优化/性能-指标">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">性能-指标 | wiki &amp; blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://wiki.jeiizou.site/docs/前端进阶/性能优化/性能-指标"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="性能-指标 | wiki &amp; blog"><meta data-rh="true" name="description" content="文档流加载周期"><meta data-rh="true" property="og:description" content="文档流加载周期"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://wiki.jeiizou.site/docs/前端进阶/性能优化/性能-指标"><link data-rh="true" rel="alternate" href="https://wiki.jeiizou.site/docs/前端进阶/性能优化/性能-指标" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://wiki.jeiizou.site/docs/前端进阶/性能优化/性能-指标" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://R4YE5QMILV-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="wiki &amp; blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="wiki &amp; blog Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="wiki &amp; blog JSON Feed">



<link rel="search" type="application/opensearchdescription+xml" title="wiki &amp; blog" href="/opensearch.xml">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.bf49e847.css">
<link rel="preload" href="/assets/js/runtime~main.a3d1cba2.js" as="script">
<link rel="preload" href="/assets/js/main.2bdd8cee.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_Skdb" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav class="navbar navbar--fixed-top navbarHideable_BSnR"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">WIKI.JEIIZOU.SITE</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Wiki</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/jeiizou" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_M2FV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_otor"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_WMqR colorModeToggle_msRM"><button class="clean-btn toggleButton_cMOQ toggleButtonDisabled_UXDB" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_oAUf"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_FnV_"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_sGTm docsWrapper_Ni9x"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_HKgr" type="button"></button><div class="docPage_ls8c"><aside class="theme-doc-sidebar-container docSidebarContainer_V3NT"><div class="sidebar_uf8s sidebarWithHideableNavbar_ehKy"><a tabindex="-1" class="sidebarLogo_gH0J" href="/"><b>WIKI.JEIIZOU.SITE</b></a><nav class="menu thin-scrollbar menu_obli"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">前端知识梳理</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/前端基础/JavsScript/0-1-原理-类型与文法">前端基础</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/前端进阶/前端工程/Babel/Babel-插件">前端进阶</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/前端进阶/前端工程/Babel/Babel-插件">前端工程</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/前端进阶/前端框架/Lit-Element快速入门">前端框架</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/前端进阶/小程序/Taro-框架原理">小程序</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/前端进阶/微前端/ModuleFederationinWebpack5">微前端</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/前端进阶/性能优化/优化-CSS">性能优化</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/前端进阶/性能优化/优化-CSS">优化-CSS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/前端进阶/性能优化/性能-RAIL">性能-RAIL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/前端进阶/性能优化/性能-指标">性能-指标</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/前端进阶/性能优化/性能优化概览">性能优化概览</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/前端进阶/性能优化/资源优化篇">资源优化篇</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/前端进阶/浏览器/V8/V8-内存">浏览器</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/前端进阶/移动端/JSBridge概述">移动端</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/计算机网络/CDN原理">计算机网络</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/数据结构与算法/DFS&amp;BFS">数据结构与算法</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/服务端/Nginx常用配置">服务端</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/架构&amp;模式&amp;工程/ShapeUp工作流">架构&amp;模式&amp;工程</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/图形学/WebGL-GLSL语法">图形学</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/信息安全/网络安全/安全-常见安全策略">信息安全</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/其他/Git/Git-GitFlow">其他</a></div></li></ul></nav></div></aside><main class="docMainContainer_Fcw8"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_apvc"><div class="docItemContainer_MDp6"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_bpEc" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_CV4g"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">前端进阶</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">性能优化</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">性能-指标</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ctTz theme-doc-toc-mobile tocMobile_aSM7"><button type="button" class="clean-btn tocCollapsibleButton_d1Te">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>性能-指标</h1><h2 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="文档流加载周期">文档流加载周期<a class="hash-link" href="#文档流加载周期" title="标题的直接链接">​</a></h2><ol><li><p>DOMContentLoaded 是指页面元素加载完毕，但是一些资源比如图片还无法看到，但是这个时候页面是可以正常交互的，比如滚动，输入字符等。 jQuery 中经常使用的 <!-- -->$<!-- -->(document).ready() 其实监听的就是 DOMContentLoaded 事件。</p></li><li><p>load 是指页面上所有的资源（图片，音频，视频等）加载完成。jQuery 中 <!-- -->$<!-- -->(document).load() 监听的是 load 事件。</p></li></ol><div class="language-js codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-js codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// load</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">onload</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// DOMContentLoaded</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ready</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">fn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">addEventListener</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&#x27;DOMContentLoaded&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">removeEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;DOMContentLoaded&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> arguments</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">callee</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 如果 IE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">attachEvent</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 确保当页面是在iframe中加载时，事件依旧会被安全触发</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">attachEvent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;onreadystatechange&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">readyState</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;complete&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">detachEvent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;onreadystatechange&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> arguments</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">callee</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 如果是 IE 且页面不在 iframe 中时，轮询调用 doScroll 方法检测DOM是否加载完毕</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">documentElement</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">doScroll</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">frameElement</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;undefined&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">documentElement</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">doScroll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;left&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">callee</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>readystatechange</li></ol><p><code>document</code>有<code>readyState</code>属性来描述<code>document</code>的<code>loading</code>状态, <code>readyState</code>的改变会触发<code>readystatechange</code>事件. </p><ul><li>loading: 文档文在加载</li><li>interactive: 文档结束加载并被解析, 但是图片, 样式, frame之类的子资源仍在加载</li><li>complete: 文档和子资源已经结束加载, 该状态表明将要触发loading事件. </li></ul><p>因此, 我们同样可以使用该事件来判断dom的加载状态.</p><ol start="4"><li>beforeunload</li></ol><p>在浏览器窗口, 文档或器资源将要卸载时, 会触发<code>beforeunload</code>事件, 这个文档依然是可见的, 并且这个事件在这一刻是可以取消的. </p><ol start="5"><li>unload</li></ol><p>当文档或者一个资资源将要被卸载时, 在<code>beforeunload</code>,<code>pagehide</code>时间之后触发, 文档会处于一个特定状态:</p><ul><li>所有资源仍存在</li><li>对于终端用户所有资源均不可见</li><li>界面交互无效</li><li>错误不会停止卸载文档的过程. </li></ul><div class="language-js codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-js codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;DOMContentLoaded&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;初始DOM 加载并解析&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;load&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;window 所有资源加载完成&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">onreadystatechange</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">readyState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">readyState</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;complete&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;初始DOM,加载解析完成&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;beforeunload&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;即将关闭&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">returnValue</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;\o/&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;unload&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;即将关闭1&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="performance-api">Performance API<a class="hash-link" href="#performance-api" title="标题的直接链接">​</a></h2><p>Performance 接口可以获取到当前页面与性能相关的信息。</p><ol><li>Performance.timing</li></ol><p>在 chrome 中查看 performance.timing 对象：</p><div class="language-js codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-js codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token maybe-class-name">PerformanceTiming</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">connectEnd</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364862807</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">connectStart</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364862530</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">domComplete</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364863751</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">domContentLoadedEventEnd</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364863699</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">domContentLoadedEventStart</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364863698</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">domInteractive</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364863694</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">domLoading</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364863438</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">domainLookupEnd</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364862529</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">domainLookupStart</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364862529</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">fetchStart</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364862529</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">loadEventEnd</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364863785</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">loadEventStart</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364863751</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">navigationStart</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364862499</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">redirectEnd</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">redirectStart</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">requestStart</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364862807</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">responseEnd</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364863437</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">responseStart</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364863434</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">secureConnectionStart</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1568364862530</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">unloadEventEnd</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">unloadEventStart</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>对应浏览器的状态如下:</p><p><img loading="lazy" alt="image" src="/assets/images/performance11-dafe73d9bec2b2fb56bde4d40d2b2b67.png" width="807" height="470" class="img_SmpS"></p><p>左边红线代表了网络传输层的过程, 右边红线代表了服务器传输回字节后浏览的各种事件状态, 这个阶段包含了浏览器对文档的解析, DOM 树构建, 布局, 绘制等.</p><ul><li><strong>navigationStart</strong>: 表示从上一个文档卸载结束时的 unix 时间戳，如果没有上一个文档，这个值将和 fetchStart 相等。</li><li><strong>unloadEventStart</strong>: 表示前一个网页（与当前页面同域）unload 的时间戳，如果无前一个网页 unload 或者前一个网页与当前页面不同域，则值为 0。</li><li><strong>unloadEventEnd</strong>: 返回前一个页面 unload 时间绑定的回掉函数执行完毕的时间戳。</li><li><strong>redirectStart</strong>: 第一个 HTTP 重定向发生时的时间。有跳转且是同域名内的重定向才算，否则值为 0。</li><li><strong>redirectEnd</strong>: 最后一个 HTTP 重定向完成时的时间。有跳转且是同域名内部的重定向才算，否则值为 0。</li><li><strong>fetchStart</strong>: 浏览器准备好使用 HTTP 请求抓取文档的时间，这发生在检查本地缓存之前。</li><li><strong>domainLookupStart</strong>/domainLookupEnd: DNS 域名查询开始/结束的时间，如果使用了本地缓存（即无 DNS 查询）或持久连接，则与 fetchStart 值相等</li><li><strong>connectStart</strong>: HTTP（TCP）开始/重新 建立连接的时间，如果是持久连接，则与 fetchStart 值相等。</li><li><strong>connectEnd</strong>: HTTP（TCP） 完成建立连接的时间（完成握手），如果是持久连接，则与 fetchStart 值相等。</li><li><strong>secureConnectionStart</strong>: HTTPS 连接开始的时间，如果不是安全连接，则值为 0。</li><li><strong>requestStart</strong>: HTTP 请求读取真实文档开始的时间（完成建立连接），包括从本地读取缓存。</li><li><strong>responseStart</strong>: HTTP 开始接收响应的时间（获取到第一个字节），包括从本地读取缓存。</li><li><strong>responseEnd</strong>: HTTP 响应全部接收完成的时间（获取到最后一个字节），包括从本地读取缓存。</li><li><strong>domLoading</strong>: 开始解析渲染 DOM 树的时间，此时 Document.readyState 变为 loading，并将抛出 readystatechange 相关事件。</li><li><strong>domInteractive</strong>: 完成解析 DOM 树的时间，Document.readyState 变为 interactive，并将抛出 readystatechange 相关事件，注意只是 DOM 树解析完成，这时候并没有开始加载网页内的资源。</li><li><strong>domContentLoadedEventStart</strong>: DOM 解析完成后，网页内资源加载开始的时间，在 DOMContentLoaded 事件抛出前发生。</li><li><strong>domContentLoadedEventEnd</strong>: DOM 解析完成后，网页内资源加载完成的时间（如 JS 脚本加载执行完毕）。</li><li><strong>domComplete</strong>: DOM 树解析完成，且资源也准备就绪的时间，Document.readyState 变为 complete，并将抛出 readystatechange 相关事件。</li><li><strong>loadEventStart</strong>: load 事件发送给文档，也即 load 回调函数开始执行的时间。</li><li><strong>loadEventEnd</strong>: load 事件的回调函数执行完毕的时间。</li></ul><p>计算加载时间:</p><div class="language-js codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-js codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 计算加载时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getPerformanceTiming</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> t </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">performance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">timing</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> times </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 页面加载完成的时间，用户等待页面可用的时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    times</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">loadPage</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">loadEventEnd</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">navigationStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 解析 DOM 树结构的时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    times</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">domReady</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">domComplete</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">responseEnd</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 重定向的时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    times</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">redirect</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">redirectEnd</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">redirectStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// DNS 查询时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    times</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">lookupDomain</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">domainLookupEnd</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">domainLookupStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 读取页面第一个字节的时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    times</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">ttfb</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">responseStart</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">navigationStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 资源请求加载完成的时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    times</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">request</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">responseEnd</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">requestStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 执行 onload 回调函数的时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    times</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">loadEvent</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">loadEventEnd</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">loadEventStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// DNS 缓存时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    times</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">appcache</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">domainLookupStart</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">fetchStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 卸载页面的时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    times</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">unloadEvent</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">unloadEventEnd</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">unloadEventStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// TCP 建立连接完成握手的时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    times</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">connect</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">connectEnd</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">connectStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> times</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Performance.navigation</li></ol><ul><li>redirectCount: 0 // 页面经过了多少次重定向</li><li>type: 0<ul><li>0 表示正常进入页面；</li><li>1 表示通过 window.location.reload() 刷新页面；</li><li>2 表示通过浏览器前进后退进入页面；</li><li>255 表示其它方式</li></ul></li></ul><ol start="3"><li>Performance.memory</li></ol><ul><li>jsHeapSizeLimit: 内存大小限制</li><li>totalJSHeapSize: 可使用的内存</li><li>usedJSHeapSize: JS 对象占用的内存</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="core-web-vitals">Core Web Vitals<a class="hash-link" href="#core-web-vitals" title="标题的直接链接">​</a></h2><p><code>Core Web Vitals</code>是应用于所有的web页面的<code>Web Vitals</code>的子集, 他们将在所有谷歌提供的性能测试工具中进行显示, 每个<code>Core Web Vitals</code>代表用户体验的一个不同方面, 在该领域是可衡量的, 并反映了以用户为中心的关键结果的真实体验.</p><p>网页核心的性能指标是随着时间的推移而不断的演变的. 在2020年, 主要关注用户体验的三个方面: 加载, 交互性和视觉稳定性.</p><ul><li><code>Largest Contentful Paint (LCP)</code>: 衡量加载体验, 为了提供良好的用户体验, LCP应该在页面首次开始后的2.5s内发生.</li><li><code>First Input Delay(FID)</code>: 衡量可交互性, 页面的FID应该小于100ms</li><li><code>Cumulative Layout Shift(CLS)</code>: 衡量视觉稳定性的指标, 页面的CLS应该小于0.1</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="lcp-最大内容元素渲染">LCP: 最大内容元素渲染<a class="hash-link" href="#lcp-最大内容元素渲染" title="标题的直接链接">​</a></h3><p>衡量加载体验的指标.</p><p>最早我们使用<code>load</code>, <code>DOMContentLoaded</code>事件, 但是他们与实际上用户屏幕上的内容是不一定对应的.</p><p>之后我们尝试使用以用户为中心的更新性能指标, 例如<code>First Content Paint(FCP)</code>, 它只能捕获加载体验的最开始. 如果页面开始是一个<code>loading</code>动画, 这个指标就不准确了.</p><p>后来, 业界开始建议使用<code>First Meaningful Paint(FMP)</code>和<code>Speed Index(SI)</code>(都可以在<code>Lighthouse</code>中获取到), 但这些指标非常复杂, 难以解释, 误报率较高.</p><h4 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="定义">定义<a class="hash-link" href="#定义" title="标题的直接链接">​</a></h4><p><img loading="lazy" alt="image" src="data:image/png;base64,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" width="732" height="249" class="img_SmpS"></p><p><code>Largest Contentful Paint (LCP)</code>用于衡量标准报告视口内可见的最大内容元素的渲染时间. 为了提供良好的用户体验, 网站应该努力在开始加载页面的前2.5s内进行最大内容渲染. </p><h4 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="关注的元素">关注的元素<a class="hash-link" href="#关注的元素" title="标题的直接链接">​</a></h4><p>LCP不会计算所有的元素, 它只关注:</p><ul><li>img 元素</li><li>images中的svg元素</li><li>video元素</li><li>通过<code>url()</code>函数加载背景图片的元素</li><li>包含文本节点或者其他内联文本元素子级的块级元素</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="计算">计算<a class="hash-link" href="#计算" title="标题的直接链接">​</a></h4><p>我们需要关注的是页面上最大的元素即绘制面积最大的元素.</p><p>所谓的绘制面积可以理解为每个元素在屏幕上的&quot;占地面积&quot;. 如果元素延伸到屏幕外, 或者被裁切了一部分, 这部分就不会计算入内. </p><p>图片元素的面积计算稍有点不同, 因为可以通过CSS将图片扩大或者缩小显示, 也就是说, 图片有渲染面积和真实面积的区别. 在LCP的计算中, 图片的绘制面积将取两者中比较小的那个. 比如当渲染面积小于真实面积的时候, 取渲染面积, 反之亦然. </p><p>页面在加载过程中是线性的, 元素是一次渲染, 而不是瞬间渲染, 所以渲染面积最大的元素随时在发生变化.</p><p>如果元素被删除, LCP算法就不再考虑这个元素, 如果被删除的元素刚好是&quot;绘制面积&quot;最大的元素, 则使用新的&quot;绘制面积&quot;最大的元素创建一个新的性能条目.</p><p>这个过程会只需要用户第一次滚动页面或者第一次用户输入(鼠标点击, 键盘按键等), 也就是说, 一旦用户与页面开始产生交互, 就停止报告新的性能指标. </p><p><img loading="lazy" alt="image" src="/assets/images/1374142462-dc2061966272c638_fix732-0751404e3e85d47339a2cd2379581e06.png" width="732" height="584" class="img_SmpS"></p><h4 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="优化">优化<a class="hash-link" href="#优化" title="标题的直接链接">​</a></h4><p>影响LCP较差的最常见原因是:</p><ul><li>服务器响应时间慢</li><li>阻断渲染的js和css</li><li>资源加载时间慢</li><li>客户端渲染</li></ul><p>所以我们从上面的角度去改善LCP.</p><p>具体的措施有:</p><ul><li>缓存HTML离线页面, 缓存页面资源, 减少浏览器对资源的请求</li><li>减小资源组算渲染, 对CSS/JS进行压缩, 合并, 级联, 内联等</li><li>对图片进行优化, 转换格式为JPG, webp等, 降低图片大小, 加载请求的速度</li><li>对HTML重写, 压缩空格, 去除注释</li><li>使用preconnet尽快建立链接, 使用dns-prefect尽快进行DNS查找</li><li>使用CDN加载请求速度</li><li>使用Gzip压缩页面</li><li>使用sw缓存资源和请求等</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="fid-首次可交互事件">FID: 首次可交互事件<a class="hash-link" href="#fid-首次可交互事件" title="标题的直接链接">​</a></h3><p>First Contentful Paint(FCP)可以衡量网站加载速度, 但是绘制的速度只是一般部分, 同样重要的是用户尝试与这些像素进行交互的时候网站的反应速度. </p><h4 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="定义-1">定义<a class="hash-link" href="#定义-1" title="标题的直接链接">​</a></h4><p><img loading="lazy" alt="image" src="data:image/png;base64,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" width="732" height="234" class="img_SmpS"></p><p>FID(First Input Delay), 即记录用户和页面进行首次交互操作所花费的时间, FID指标影响用户对页面交互性和响应性的第一影响. 为了提供良好的用户体验, 站点应该使首次输入延迟小于100毫秒</p><p>FID发生在FCP和TTI之间, 应为这个阶段虽然页面已经显示出部分的内容, 但尚不具备完全的可交互性. 这个阶段的用户交互往往有比较大的延迟. </p><p><img loading="lazy" alt="image" src="data:image/png;base64,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" width="732" height="376" class="img_SmpS"></p><p>浏览器接收到用户输入操作的时候, 主线程正在忙于执行一个耗时比较长的任务, 只有当这个任务执行完成以后, 浏览器才能响应用户的输入操作. 他必须等待的时间就是此页面上该用户的FID值. </p><h4 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="优化-1">优化<a class="hash-link" href="#优化-1" title="标题的直接链接">​</a></h4><p>一方面, 我们可以向上面一样, 减少js的执行时间:</p><ul><li>缩小压缩js文件</li><li>延迟加载首屏不需要的js</li><li>减少未使用的polyfill</li></ul><p>另一方面, 我们可以分解耗时任务:</p><ul><li>使用 web worker 独立运行耗时任务.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="cls-视觉稳定性">CLS: 视觉稳定性<a class="hash-link" href="#cls-视觉稳定性" title="标题的直接链接">​</a></h3><p><img loading="lazy" alt="image" src="/assets/images/942602382-20bbd0e69e09d8e5_fix732-eed047a43555306913a47c529b39a5ad.png" width="732" height="277" class="img_SmpS"></p><p>页面内容的意外移动是由于异步加载的资源或将DOM元素动态添加到现有内容上方的页面而发生的. </p><h4 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="定义-2">定义<a class="hash-link" href="#定义-2" title="标题的直接链接">​</a></h4><p><img loading="lazy" alt="image" src="data:image/png;base64,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" width="732" height="248" class="img_SmpS"></p><p>Cumulative Layout Shift (CLS), 会测量页面的整个生命周期中发生的每个意外的样式移动的所有单独布局更改得分的总合. 布局的移动可能发生在可见元素从当前一帧到下一帧改变位置的任何时候. 为了提供良好的用户体验, 网站应该努力让cls分数小于0.1.</p><h4 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="计算-1">计算<a class="hash-link" href="#计算-1" title="标题的直接链接">​</a></h4><p>布局偏移分值, 用于计算元素移动的指标. 是目标元素的两个指标(影响分数, 距离分数)的乘积:</p><div class="codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-text codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token plain">布局偏移分值 = 影响分数 * 距离分数</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>影响分数</strong>, 值的是前一帧和当前帧所有不稳定元素的可见区域的并集(站视口总面积的部分).</p><p><img loading="lazy" alt="image" src="/assets/images/3534664035-62e7628898ee0939_fix732-26eb7fbd71a601a4b13ad054b6fbdf51.png" width="732" height="488" class="img_SmpS"></p><p>比如这里, 一个元素在上一帧中占据视口的一般, 在下一帧中下移25%. 红色的曲线就是两个帧中元素的可见区域的并集. 这种情况下, 影响分值为<code>0.75</code></p><p><strong>距离分数</strong>, 是任何不稳定元素在<code>框架中移动的最大距离/视口的最大尺寸</code>:</p><p><img loading="lazy" alt="image" src="/assets/images/1210955962-8ddd5eec0373cd73_fix732-967f4bc39bb46f21b75f8d609e0af567.png" width="732" height="483" class="img_SmpS"></p><p>在这个例子中, 最大视口尺寸是高度, 不稳定元素移动了视口高度的25%, 这使得距离分数为0.25.</p><p>因此, 在这个例子中, 最终的CLS得分为: <code>0.75 * 0.25 = 0.1875</code>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="优化-2">优化<a class="hash-link" href="#优化-2" title="标题的直接链接">​</a></h4><p><strong>1. 不要使用无尺寸元素</strong></p><p>图片和视频元素需要始终包含<code>width</code>和<code>height</code>尺寸属性, 现代浏览器会根据<code>width</code>和<code>height</code>设置图片的默认宽高比. 或者直接使用<code>aspect-radio</code>也可以提前指定宽高比:</p><div class="language-css codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-css codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">img</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">aspect-ratio</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">attr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">width</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">attr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">height</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>对于响应式图片, 可以使用<code>srcset</code>定义图像, 使浏览器可以在图像之间进行选择, 以及每个图像的大小:</p><div class="language-html codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-html codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">img</span><span class="token tag" style="color:#00009f"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">width</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1000</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">height</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1000</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">puppy-1000.jpg</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">srcset</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">puppy-1000.jpg 1000w,</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">            puppy-2000.jpg 2000w,</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">            puppy-3000.jpg 3000w</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">alt</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">ConardLi</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f"></span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>2. 其他操作</strong></p><ul><li>永远不要在现有内容之上插入内容, 除非是响应用户交互. 这能确保预期的布局变化</li><li>宁可转换动画, 也不要转换触发布局变化的属性的动画. </li><li>提前给广告位预留空间</li><li>警惕字体变化, 使用<code>font-display</code>告诉浏览器默认使用系统字体进行渲染, 当自定义字体下载完成之后在进行替换</li></ul><div class="language-css codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-css codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token atrule rule" style="color:#00a4db">@font-face</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">font-family</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Pacifico&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">font-style</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> normal</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">font-weight</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">400</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">src</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">local</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Pacifico Regular&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">local</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Pacifico-Regular&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token url function" style="color:#d73a49">url</span><span class="token url punctuation" style="color:#393A34">(</span><span class="token url" style="color:#36acaa">https://fonts.gstatic.com/xxx.woff2</span><span class="token url punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;woff2&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">font-display</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> swap</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>此外可以使用<code>&lt;link rel=&#x27;preload&#x27;&gt;</code>提前加载字体文件.</p><h3 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="获取参数">获取参数<a class="hash-link" href="#获取参数" title="标题的直接链接">​</a></h3><p>方式1: Google提供了<code>web-vitals</code>来让我们便捷的调用这三个参数</p><div class="language-js codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-js codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports">getCLS</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> getFID</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> getLCP</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;web-vitals&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">getCLS</span><span class="token punctuation" style="color:#393A34">(</span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">log</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">getFID</span><span class="token punctuation" style="color:#393A34">(</span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Does not take a `reportAllChanges` param.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">getLCP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">log</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>其回到函数中提供了三个指标:</p><ul><li>name: 指标的名称</li><li>id: 本地分析的id</li><li>delta: 当前值和上次获取值的差值</li></ul><p>可以结合<code>google analytics</code>来上报指标:</p><div class="language-js codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-js codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports">getCLS</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> getFID</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> getLCP</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;web-vitals&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sendToGoogleAnalytics</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> delta</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> id</span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">ga</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;send&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;event&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">eventCategory</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Web Vitals&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">eventAction</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">eventValue</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">round</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;CLS&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> delta </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> delta</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">eventLabel</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">nonInteraction</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">getCLS</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sendToGoogleAnalytics</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">getFID</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sendToGoogleAnalytics</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">getLCP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sendToGoogleAnalytics</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>方式2: 使用Chrome插件</p><p>如果你不想在程序中计算, 还可以使用<code>Chrome</code>插件<code>web-vitals-extension</code>来获取这些指标. </p><h2 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="其他常见性能指标">其他常见性能指标<a class="hash-link" href="#其他常见性能指标" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="fp-首次绘制事件">FP: 首次绘制事件<a class="hash-link" href="#fp-首次绘制事件" title="标题的直接链接">​</a></h3><p>FP(First Paint, 首次绘制时间), 是时间线上的第一个&quot;时间点&quot;, 它代表浏览器第一次向屏幕传输像素的时间, 也就是页面在屏幕上首次发生视觉变化的时间.</p><p>也就是我们所说的白屏时间(浏览器从响应用户输入网址到浏览器开始显示内容的时间).</p><div class="codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-text codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token plain">白屏时间 = 地址栏输入网址后回车 - 浏览器出现第一个元素  </span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>影响白屏时间的因素: 网络, 服务端性能, 前端页面结构设计</p><p>通常认为浏览器开始渲染<code>&lt;body&gt;</code>标签或者解析完<code>&lt;head&gt;</code>的时间是白屏结束的时间点. 如何获取白屏事件, 可以参考下面的代码:</p><div class="language-html codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-html codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 通常在head标签尾部时，打个标记，这个通常会视为白屏时间</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript dom variable" style="color:#36acaa">performance</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">mark</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;first paint time&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// get the first paint time</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> fp </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript known-class-name class-name">Math</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">ceil</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript dom variable" style="color:#36acaa">performance</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getEntriesByName</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;first paint time&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">[</span><span class="token script language-javascript number" style="color:#36acaa">0</span><span class="token script language-javascript punctuation" style="color:#393A34">]</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">startTime</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="fcp-首次内容绘制事件">FCP: 首次内容绘制事件<a class="hash-link" href="#fcp-首次内容绘制事件" title="标题的直接链接">​</a></h3><p>FCP(First Contentful Paint, 首次内容绘制), 代表浏览器第一次向屏幕绘制&quot;内容&quot;.</p><p>只有首次绘制文本, 图片, 非白色的canvas或者SVG的时候才被算作FCP.</p><p>也就是我们所说的首屏时间(浏览器从响应用户输入网络地址到首屏内容渲染完成的时间):</p><div class="codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-text codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token plain">首屏时间 = 地址输入网址后回车 - 浏览器第一屏渲染完成</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>关于首屏时间是否包含图片加载, 通常有不同的说法, 但那无关紧要. </p><p>计算首屏时间常用的方法有:</p><ol><li>首屏模块标签标记法</li></ol><p>由于浏览器解析 HTML 是按照顺序解析的, 当解析到某个元素的时候, 认为首屏完成了, 就在次元素后面加入 script 计算首屏完成的时间.</p><div class="language-js codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-js codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 首屏屏结束时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">firstPaint</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 首屏时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">firstPaint </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">performance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">timing</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">navigationStart</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>统计首屏内加载最慢的图片/iframe</li></ol><p>通常首屏内容中加载最慢的就是图片或者 iframe 资源，因此可以理解为当图片或者 iframe 都加载出来了，首屏肯定已经完成了。</p><p>由于浏览器对每个页面的 TCP 连接数有限制，使得并不是所有图片都能立刻开始下载和显示。我们只需要监听首屏内所有的图片的 onload 事件，获取图片 onload 时间最大值，并用这个最大值减去 navigationStart 即可获得近似的首屏时间。</p><div class="language-html codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-html codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">app-container</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">img</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">a.png</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag special-attr attr-name" style="color:#00a4db">onload</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag special-attr attr-value value javascript language-javascript function" style="color:#d73a49">heroImageLoaded</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">(</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">)</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">img</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">b.png</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag special-attr attr-name" style="color:#00a4db">onload</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag special-attr attr-value value javascript language-javascript function" style="color:#d73a49">heroImageLoaded</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">(</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">)</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">img</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">c.png</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag special-attr attr-name" style="color:#00a4db">onload</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag special-attr attr-value value javascript language-javascript function" style="color:#d73a49">heroImageLoaded</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">(</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">)</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 根据首屏中的核心元素确定首屏时间</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript dom variable" style="color:#36acaa">performance</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">clearMarks</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;hero img displayed&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript dom variable" style="color:#36acaa">performance</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">mark</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;hero img displayed&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">heroImageLoaded</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript dom variable" style="color:#36acaa">performance</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">clearMarks</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;hero img displayed&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript dom variable" style="color:#36acaa">performance</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">mark</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;hero img displayed&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// get the first screen loaded time</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> fmp </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript known-class-name class-name">Math</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">ceil</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript dom variable" style="color:#36acaa">performance</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getEntriesByName</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;hero img displayed&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">[</span><span class="token script language-javascript number" style="color:#36acaa">0</span><span class="token script language-javascript punctuation" style="color:#393A34">]</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">startTime</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_akv_"><div class="admonitionHeading_ewkV"><span class="admonitionIcon_I2TK"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>注意</div><div class="admonitionContent_w1nk"><p>注意: FP与FCP这两个指标之间的主要区别在于: FP是当浏览器开始绘制内容到屏幕上的时候, 只要在视觉上开始发生变化, 无论是什么内容触发的视觉变化, 这一刻的时间点, 就叫做FP. </p><p>相比之下, FCP指的是浏览器首次绘制来自DOM的内容, 例如文本, 图片, SVG, CANVAS等元素. 这个时间点叫做FCP</p><p>FP和FCP的时间点可能相同, 也可能是先FP, 后FCP.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="fmp-首次主要内容绘制事件">FMP: 首次主要内容绘制事件<a class="hash-link" href="#fmp-首次主要内容绘制事件" title="标题的直接链接">​</a></h3><p>FirstMeaningfulPaint, 首次主要内容渲染时间, 目前没有标准化的定义方式. 实践中, 可以将页面评分最高的可见内容出现在屏幕上的时间作为FCP时间</p><p><strong>统计方式</strong>: 我们可以使用<code>Mutation Observer</code>观察页面加载的前30s中页面节点的变化, 将新增/移除的节点加入/移除<code>intersection Observer</code>, 这样可以得到页面元素的可见时间点及元素与可视区域的交叉信息. 根据元素的类型进行权重取值, 然后按可见度, 交叉区域面积, 权重值之间的乘积作为元素评分. 根据上面得到的信息, 以时间点为X周, 该时间点可见元素的评分总和为Y周, 取最高点对应的最小事件为页面主要内容出现在屏幕上的时间点. </p><p>目前没有统一的逻辑, 阿里有一个标准为最高可见增量元素, 采用深度优先遍历, 详情可以参考<a href="https://zhuanlan.zhihu.com/p/44933789" target="_blank" rel="noopener noreferrer">这里</a></p><h3 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="lt-长任务">LT: 长任务<a class="hash-link" href="#lt-长任务" title="标题的直接链接">​</a></h3><p>当一个任务执行时间超过<code>50ms</code>时消耗到的任务. 50ms阈值是从RAIL模型总结出来的结论，这个是google研究用户感知得出的结论，类似永华的感知/耐心的阈值，超过这个阈值的任务，用户会感知到页面的卡顿.</p><h4 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="计算-2">计算<a class="hash-link" href="#计算-2" title="标题的直接链接">​</a></h4><div class="language-js codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-js codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Jartto&#x27;s Demo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> observer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PerformanceObserver</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">list</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> entry </span><span class="token keyword" style="color:#00009f">of</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getEntries</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// TODO...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">entry</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">observer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">observe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">entryTypes</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;longtask&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="tti-页面可交互时间">TTI: 页面可交互时间<a class="hash-link" href="#tti-页面可交互时间" title="标题的直接链接">​</a></h3><p>TTI(Time To Internative): 从页面开始到它的主要子资源加载到能够快速地响应用户输入的时间. (没有耗时长任务)</p><h4 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="计算-3">计算<a class="hash-link" href="#计算-3" title="标题的直接链接">​</a></h4><p>我们可以通过<code>domContentLoadedEventEnd</code>进行一个粗略的估算: </p><div class="codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-text codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token plain">TTI: domContentLoadedEventEnd - navigationStart,</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果你需要更精细的计算即如果, 可以通过<code>Google</code>提供的<code>tti-polyfill</code>来进行数据获取:</p><div class="language-js codeBlockContainer_y0vf theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Gfna"><pre tabindex="0" class="prism-code language-js codeBlock_GnFk thin-scrollbar"><code class="codeBlockLines_FgbJ"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">ttiPolyfill</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tti-polyfill&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ttiPolyfill</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getFirstConsistentlyInteractive</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">opts</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">tti</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Use `tti` value in some way.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_Po1W"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_QRmS" aria-hidden="true"><svg class="copyButtonIcon_TxwO" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_RKzi" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="tbt-页面阻塞总时长">TBT: 页面阻塞总时长<a class="hash-link" href="#tbt-页面阻塞总时长" title="标题的直接链接">​</a></h3><p>TBT (Total Blocking Time) 页面阻塞总时长: TBT汇总所有加载过程中阻塞用户操作的时长，在FCP和TTI之间任何long task中阻塞部分都会被汇总.</p><p><img loading="lazy" alt="image" src="data:image/png;base64,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" width="866" height="175" class="img_SmpS"></p><h2 class="anchor anchorWithHideOnScrollNavbar_IbQp" id="参考">参考<a class="hash-link" href="#参考" title="标题的直接链接">​</a></h2><ul><li><a href="https://lz5z.com/Web%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-%E9%A6%96%E5%B1%8F%E5%92%8C%E7%99%BD%E5%B1%8F%E6%97%B6%E9%97%B4/" target="_blank" rel="noopener noreferrer">Web 性能优化-首屏和白屏时间</a></li><li><a href="https://github.com/LuckyWinty/fe-weekly-questions/issues/56" target="_blank" rel="noopener noreferrer">FCP/FMP/FP 分别是怎样定义，如何统计</a></li><li><a href="https://segmentfault.com/a/1190000022744550" target="_blank" rel="noopener noreferrer">解读新一代 Web 性能体验和质量指标</a></li><li><a href="https://web.dev/metrics/" target="_blank" rel="noopener noreferrer">webdev: Metrics</a></li><li><a href="https://web.dev/vitals/" target="_blank" rel="noopener noreferrer">webdev: Web Vitals</a></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/前端进阶/性能优化/性能-RAIL"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">性能-RAIL</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/前端进阶/性能优化/性能优化概览"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">性能优化概览</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_HamF thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#文档流加载周期" class="table-of-contents__link toc-highlight">文档流加载周期</a></li><li><a href="#performance-api" class="table-of-contents__link toc-highlight">Performance API</a></li><li><a href="#core-web-vitals" class="table-of-contents__link toc-highlight">Core Web Vitals</a><ul><li><a href="#lcp-最大内容元素渲染" class="table-of-contents__link toc-highlight">LCP: 最大内容元素渲染</a></li><li><a href="#fid-首次可交互事件" class="table-of-contents__link toc-highlight">FID: 首次可交互事件</a></li><li><a href="#cls-视觉稳定性" class="table-of-contents__link toc-highlight">CLS: 视觉稳定性</a></li><li><a href="#获取参数" class="table-of-contents__link toc-highlight">获取参数</a></li></ul></li><li><a href="#其他常见性能指标" class="table-of-contents__link toc-highlight">其他常见性能指标</a><ul><li><a href="#fp-首次绘制事件" class="table-of-contents__link toc-highlight">FP: 首次绘制事件</a></li><li><a href="#fcp-首次内容绘制事件" class="table-of-contents__link toc-highlight">FCP: 首次内容绘制事件</a></li><li><a href="#fmp-首次主要内容绘制事件" class="table-of-contents__link toc-highlight">FMP: 首次主要内容绘制事件</a></li><li><a href="#lt-长任务" class="table-of-contents__link toc-highlight">LT: 长任务</a></li><li><a href="#tti-页面可交互时间" class="table-of-contents__link toc-highlight">TTI: 页面可交互时间</a></li><li><a href="#tbt-页面阻塞总时长" class="table-of-contents__link toc-highlight">TBT: 页面阻塞总时长</a></li></ul></li><li><a href="#参考" class="table-of-contents__link toc-highlight">参考</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 WIKI.JEIIZOU.SITE, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a3d1cba2.js"></script>
<script src="/assets/js/main.2bdd8cee.js"></script>
</body>
</html>