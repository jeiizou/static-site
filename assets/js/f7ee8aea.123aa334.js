"use strict";(self.webpackChunkwiki_site=self.webpackChunkwiki_site||[]).push([[9927],{50158:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>c});var l=n(46393);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,l,a=function(e,t){if(null==e)return{};var n,l,a={},r=Object.keys(e);for(l=0;l<r.length;l++)n=r[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)n=r[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=l.createContext({}),s=function(e){var t=l.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=s(e.components);return l.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},u=l.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=s(n),c=a,k=u["".concat(p,".").concat(c)]||u[c]||m[c]||r;return n?l.createElement(k,i(i({ref:t},d),{},{components:n})):l.createElement(k,i({ref:t},d))}));function c(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=u;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:a,i[1]=o;for(var s=2;s<r;s++)i[s]=n[s];return l.createElement.apply(null,i)}return l.createElement.apply(null,n)}u.displayName="MDXCreateElement"},27294:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>o,toc:()=>s});var l=n(39421),a=(n(46393),n(50158));const r={slug:"/FrontendAdvanced/FrontendFramework/LitElementQuickStart"},i="Lit-Element\u5feb\u901f\u5165\u95e8",o={unversionedId:"\u524d\u7aef\u8fdb\u9636/\u524d\u7aef\u6846\u67b6/Lit-Element\u5feb\u901f\u5165\u95e8",id:"\u524d\u7aef\u8fdb\u9636/\u524d\u7aef\u6846\u67b6/Lit-Element\u5feb\u901f\u5165\u95e8",title:"Lit-Element\u5feb\u901f\u5165\u95e8",description:"Lit Elemnet \u662f\u4e00\u4e2a\u7b80\u5355\u7684web-component\u5de5\u5177\u5e93",source:"@site/docs/02-\u524d\u7aef\u8fdb\u9636/\u524d\u7aef\u6846\u67b6/Lit-Element\u5feb\u901f\u5165\u95e8.md",sourceDirName:"02-\u524d\u7aef\u8fdb\u9636/\u524d\u7aef\u6846\u67b6",slug:"/FrontendAdvanced/FrontendFramework/LitElementQuickStart",permalink:"/docs/FrontendAdvanced/FrontendFramework/LitElementQuickStart",draft:!1,tags:[],version:"current",frontMatter:{slug:"/FrontendAdvanced/FrontendFramework/LitElementQuickStart"},sidebar:"tutorialSidebar",previous:{title:"\u6742\u9879-\u524d\u7aef\u6a21\u5757\u5316",permalink:"/docs/FrontendAdvanced/FrontendEngineering/MiscellaneousFrontendModular"},next:{title:"API-Hook",permalink:"/docs/FrontendAdvanced/FrontendFramework/React/APIHook"}},p={},s=[{value:"\u6a21\u677f\u8bed\u6cd5",id:"\u6a21\u677f\u8bed\u6cd5",level:2},{value:"\u57fa\u7840\u4f7f\u7528",id:"\u57fa\u7840\u4f7f\u7528",level:3},{value:"\u52a8\u6001\u5c5e\u6027",id:"\u52a8\u6001\u5c5e\u6027",level:3},{value:"\u6a21\u677f\u903b\u8f91",id:"\u6a21\u677f\u903b\u8f91",level:3},{value:"\u5faa\u73af",id:"\u5faa\u73af",level:4},{value:"\u4e09\u76ee\u8fd0\u7b97",id:"\u4e09\u76ee\u8fd0\u7b97",level:4},{value:"slot",id:"slot",level:3},{value:"\u57fa\u672cslot",id:"\u57fa\u672cslot",level:4},{value:"\u547d\u540dslot",id:"\u547d\u540dslot",level:4},{value:"\u5185\u5efa\u6307\u4ee4(TODO)",id:"\u5185\u5efa\u6307\u4ee4todo",level:3},{value:"\u6837\u5f0f",id:"\u6837\u5f0f",level:2},{value:"\u57fa\u7840\u4f7f\u7528",id:"\u57fa\u7840\u4f7f\u7528-1",level:3},{value:"\u591a\u7ec4\u6837\u5f0f",id:"\u591a\u7ec4\u6837\u5f0f",level:3},{value:"\u6837\u5f0f\u903b\u8f91",id:"\u6837\u5f0f\u903b\u8f91",level:3},{value:"\u7ee7\u627f",id:"\u7ee7\u627f",level:3},{value:"\u5171\u4eab",id:"\u5171\u4eab",level:3},{value:"CSS in Shadow Dom",id:"css-in-shadow-dom",level:3},{value:"\u5bbf\u4e3b\u6837\u5f0f",id:"\u5bbf\u4e3b\u6837\u5f0f",level:3},{value:"slot \u6837\u5f0f",id:"slot-\u6837\u5f0f",level:3},{value:"\u4f7f\u7528css\u53d8\u91cf",id:"\u4f7f\u7528css\u53d8\u91cf",level:3},{value:"<code>&lt;style&gt;</code> \u6807\u7b7e",id:"style-\u6807\u7b7e",level:3},{value:"\u5185\u90e8<code>style</code>",id:"\u5185\u90e8style",level:4},{value:"\u5916\u90e8<code>style</code>",id:"\u5916\u90e8style",level:4},{value:"classMap &amp; styleMap",id:"classmap--stylemap",level:3},{value:"\u5c5e\u6027",id:"\u5c5e\u6027",level:2},{value:"\u57fa\u7840\u4f7f\u7528",id:"\u57fa\u7840\u4f7f\u7528-2",level:3},{value:"\u5c5e\u6027\u9009\u9879",id:"\u5c5e\u6027\u9009\u9879",level:3},{value:"\u4e24\u79cd\u58f0\u660e\u65b9\u5f0f",id:"\u4e24\u79cd\u58f0\u660e\u65b9\u5f0f",level:3},{value:"\u521d\u59cb\u5316",id:"\u521d\u59cb\u5316",level:3},{value:"JS\u4e0b",id:"js\u4e0b",level:4},{value:"TS\u4e0b",id:"ts\u4e0b",level:4},{value:"\u6807\u7b7e\u4e2d",id:"\u6807\u7b7e\u4e2d",level:4},{value:"\u5c5e\u6027\u914d\u7f6e",id:"\u5c5e\u6027\u914d\u7f6e",level:3},{value:"properties/arrtibutes",id:"propertiesarrtibutes",level:4},{value:"type",id:"type",level:4},{value:"converter",id:"converter",level:4},{value:"\u76d1\u542c\u5c5e\u6027\u548c\u975e\u76d1\u542c\u5c5e\u6027",id:"\u76d1\u542c\u5c5e\u6027\u548c\u975e\u76d1\u542c\u5c5e\u6027",level:3},{value:"\u53cd\u5c04",id:"\u53cd\u5c04",level:3},{value:"\u81ea\u5b9a\u4e49\u8bbf\u95ee\u5668",id:"\u81ea\u5b9a\u4e49\u8bbf\u95ee\u5668",level:3},{value:"\u88c5\u9970\u5668\u5199\u6cd5",id:"\u88c5\u9970\u5668\u5199\u6cd5",level:4},{value:"noAccessor",id:"noaccessor",level:3},{value:"hadChanged",id:"hadchanged",level:3},{value:"\u4e8b\u4ef6",id:"\u4e8b\u4ef6",level:2},{value:"\u4e8b\u4ef6\u7ed1\u5b9a\u4f4d\u7f6e",id:"\u4e8b\u4ef6\u7ed1\u5b9a\u4f4d\u7f6e",level:3},{value:"\u6a21\u677f\u4e2d\u7ed1\u5b9a",id:"\u6a21\u677f\u4e2d\u7ed1\u5b9a",level:4},{value:"\u6784\u9020\u51fd\u6570\u4e2d\u7ed1\u5b9a",id:"\u6784\u9020\u51fd\u6570\u4e2d\u7ed1\u5b9a",level:4},{value:"firstUpdated",id:"firstupdated",level:4},{value:"connectedCallback",id:"connectedcallback",level:4},{value:"\u4e8b\u4ef6\u4e2d\u7684this",id:"\u4e8b\u4ef6\u4e2d\u7684this",level:3},{value:"\u4e8b\u4ef6\u89e6\u53d1",id:"\u4e8b\u4ef6\u89e6\u53d1",level:3},{value:"\u81ea\u5b9a\u4e49\u4e8b\u4ef6",id:"\u81ea\u5b9a\u4e49\u4e8b\u4ef6",level:4},{value:"\u6807\u51c6\u4e8b\u4ef6",id:"\u6807\u51c6\u4e8b\u4ef6",level:4},{value:"\u5904\u7406\u4e8b\u4ef6",id:"\u5904\u7406\u4e8b\u4ef6",level:4},{value:"\u5192\u6ce1\u91cd\u5b9a\u4f4d",id:"\u5192\u6ce1\u91cd\u5b9a\u4f4d",level:3},{value:"\u4e8b\u4ef6\u7a7f\u900f",id:"\u4e8b\u4ef6\u7a7f\u900f",level:3},{value:"\u751f\u547d\u5468\u671f",id:"\u751f\u547d\u5468\u671f",level:2},{value:"\u7ec4\u4ef6\u66f4\u65b0\u6d41\u7a0b",id:"\u7ec4\u4ef6\u66f4\u65b0\u6d41\u7a0b",level:3},{value:"\u9ed8\u8ba4\u7684\u7ec4\u4ef6\u94a9\u5b50",id:"\u9ed8\u8ba4\u7684\u7ec4\u4ef6\u94a9\u5b50",level:3},{value:"\u5f02\u6b65",id:"\u5f02\u6b65",level:3},{value:"\u751f\u547d\u5468\u671f\u51fd\u6570",id:"\u751f\u547d\u5468\u671f\u51fd\u6570",level:3},{value:"\u624b\u52a8\u66f4\u65b0",id:"\u624b\u52a8\u66f4\u65b0",level:3},{value:"\u53c2\u8003\u6587\u6863\u4e0e\u94fe\u63a5",id:"\u53c2\u8003\u6587\u6863\u4e0e\u94fe\u63a5",level:2}],d={toc:s};function m(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,l.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"lit-element\u5feb\u901f\u5165\u95e8"},"Lit-Element\u5feb\u901f\u5165\u95e8"),(0,a.kt)("p",null,"Lit Elemnet \u662f\u4e00\u4e2a\u7b80\u5355\u7684web-component\u5de5\u5177\u5e93"),(0,a.kt)("h2",{id:"\u6a21\u677f\u8bed\u6cd5"},"\u6a21\u677f\u8bed\u6cd5"),(0,a.kt)("h3",{id:"\u57fa\u7840\u4f7f\u7528"},"\u57fa\u7840\u4f7f\u7528"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import { LitElement, html } from 'lit-element';\n\nclass MyElement extends LitElement {\n  render() {\n    return html`<p>template content</p>`;\n  }\n}\n")),(0,a.kt)("h3",{id:"\u52a8\u6001\u5c5e\u6027"},"\u52a8\u6001\u5c5e\u6027"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u6587\u672c: ",(0,a.kt)("inlineCode",{parentName:"li"},"<p>${...}</p>")),(0,a.kt)("li",{parentName:"ul"},"\u57fa\u7840\u5c5e\u6027: ",(0,a.kt)("inlineCode",{parentName:"li"},'id="${...}"')),(0,a.kt)("li",{parentName:"ul"},"\u903b\u8f91\u5c5e\u6027: ",(0,a.kt)("inlineCode",{parentName:"li"},'?disabled="${...}"')),(0,a.kt)("li",{parentName:"ul"},"\u5143\u7d20\u5c5e\u6027: ",(0,a.kt)("inlineCode",{parentName:"li"},'.value="${...}"')),(0,a.kt)("li",{parentName:"ul"},"\u4e8b\u4ef6\u5904\u7406: ",(0,a.kt)("inlineCode",{parentName:"li"},'@click="${...}"'))),(0,a.kt)("p",null,"\u4f8b\u5b50:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'import { LitElement, html } from \'lit-element\';\n\nclass MyElement extends LitElement {\n  static get properties() {\n    return {\n      prop1: String,\n      prop2: String,\n      prop3: Boolean,\n      prop4: String\n    };\n  }\n  constructor() {\n    super();\n    this.prop1 = \'text binding\';\n    this.prop2 = \'mydiv\';\n    this.prop3 = true;\n    this.prop4 = \'pie\';\n  }\n  render() {\n    return html`\n      \x3c!-- \u6587\u672c --\x3e\n      <div>${this.prop1}</div>\n\n      \x3c!-- \u57fa\u7840\u5c5e\u6027 --\x3e\n      <div id="${this.prop2}">attribute binding</div>\n\n      \x3c!-- \u903b\u8f91\u5c5e\u6027 --\x3e\n      <div>\n        boolean attribute binding\n        <input type="text" ?disabled="${this.prop3}"/>\n      </div>\n\n      \x3c!-- \u5143\u7d20\u5c5e\u6027 --\x3e\n      <div>\n        property binding\n        <input type="text" .value="${this.prop4}"/>\n      </div>\n\n      \x3c!-- \u4e8b\u4ef6 --\x3e\n      <div>event handler binding\n        <button @click="${this.clickHandler}">click</button>\n      </div>\n    `;\n  }\n  clickHandler(e) {\n    console.log(e.target);\n  }\n}\n\ncustomElements.define(\'my-element\', MyElement);\n')),(0,a.kt)("h3",{id:"\u6a21\u677f\u903b\u8f91"},"\u6a21\u677f\u903b\u8f91"),(0,a.kt)("p",null,"\u7c7b\u4f3creact:"),(0,a.kt)("h4",{id:"\u5faa\u73af"},"\u5faa\u73af"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"html`<ul>\n  ${this.myArray.map(i => html`<li>${i}</li>`)}\n</ul>`;\n")),(0,a.kt)("h4",{id:"\u4e09\u76ee\u8fd0\u7b97"},"\u4e09\u76ee\u8fd0\u7b97"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"html`\n  ${this.myBool?\n    html`<p>Render some HTML if myBool is true</p>`:\n    html`<p>Render some other HTML if myBool is false</p>`}\n`;\n")),(0,a.kt)("h3",{id:"slot"},"slot"),(0,a.kt)("h4",{id:"\u57fa\u672cslot"},"\u57fa\u672cslot"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"render(){\n  return html`\n    <div>\n      <slot></slot>\n    </div>\n  `;\n}\n")),(0,a.kt)("h4",{id:"\u547d\u540dslot"},"\u547d\u540dslot"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'render(){\n  return html`\n    <div>\n      <slot name="one"></slot>\n    </div>\n  `;\n}\n')),(0,a.kt)("h3",{id:"\u5185\u5efa\u6307\u4ee4todo"},"\u5185\u5efa\u6307\u4ee4(TODO)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://lit-html.polymer-project.org/guide/template-reference#built-in-directives"},"https://lit-html.polymer-project.org/guide/template-reference#built-in-directives"))),(0,a.kt)("h2",{id:"\u6837\u5f0f"},"\u6837\u5f0f"),(0,a.kt)("h3",{id:"\u57fa\u7840\u4f7f\u7528-1"},"\u57fa\u7840\u4f7f\u7528"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import { LitElement, css, html } from 'lit-element';\n\nclass MyElement extends LitElement {\n  static get styles() {\n    return css`\n      div { color: red; }\n    `;\n  }\n  render() { \n    return html`\n      <div>I'm styled!</div> \n    `;\n  }\n}\n")),(0,a.kt)("h3",{id:"\u591a\u7ec4\u6837\u5f0f"},"\u591a\u7ec4\u6837\u5f0f"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"static get styles() {\n  return [ css`...`, css`...`];\n}\n")),(0,a.kt)("h3",{id:"\u6837\u5f0f\u903b\u8f91"},"\u6837\u5f0f\u903b\u8f91"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const mainColor = css`red`;\n// ...\nstatic get styles() {\n    return css`\n      div { color: ${mainColor} }\n    `;\n}\n")),(0,a.kt)("p",null,"\u6216\u8005:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"static get styles() {\n    const mainColor = 'red';\n\n    return css`\n      div { color: ${unsafeCSS(mainColor)} }\n    `;\n}\n")),(0,a.kt)("h3",{id:"\u7ee7\u627f"},"\u7ee7\u627f"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"class MyElement extends SuperElement {\n  static get styles() {\n    return [\n      super.styles,\n      css`...`\n    ];\n  }\n}\n")),(0,a.kt)("h3",{id:"\u5171\u4eab"},"\u5171\u4eab"),(0,a.kt)("p",null,"\u88ab\u5171\u4eab\u7684\u6837\u5f0f: "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import { css } from 'lit-element';\n\nexport const buttonStyles = css`\n  .blue-button {\n    color: white;\n    background-color: blue;\n  }\n  .blue-button:disabled {\n    background-color: grey;\n  }`;\n\n")),(0,a.kt)("p",null,"\u8c03\u7528\u5171\u4eab\u7684\u6837\u5f0f:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import { buttonStyles } from './button-styles.js';\n\nclass MyElement extends LitElement {\n  static get styles() {\n    return [\n      buttonStyles,\n      css`\n        :host { display: block;\n          border: 1px solid black;\n        }`\n    ]\n  }\n  ...\n}\n")),(0,a.kt)("h3",{id:"css-in-shadow-dom"},"CSS in Shadow Dom"),(0,a.kt)("p",null,"CSS \u5929\u7136\u6837\u5f0f\u9694\u79bb, \u53ea\u80fd\u5f71\u54cd\u6539\u7ec4\u4ef6\u4e2d\u7684\u6837\u5f0f, \u4f8b\u5982\u4e0b\u9762\u7684\u4ee3\u7801: "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'class MyElement extends LitElement {\n  static get styles() {\n    // Write styles in standard CSS\n    return css`\n      * { color: red; }\n      p { font-family: sans-serif; }\n      .myclass { margin: 100px; }\n      #main { padding: 30px; }\n      h1 { font-size: 4em; }\n    `;\n  }\n  render() {\n    return html`\n      <p>Hello World</p>\n      <p class="myclass">Hello World</p>\n      <p id="main">Hello World</p>\n      <h1>Hello World</h1>\n    `;\n  }\n}\n')),(0,a.kt)("h3",{id:"\u5bbf\u4e3b\u6837\u5f0f"},"\u5bbf\u4e3b\u6837\u5f0f"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},":host"),": \u6307\u5b9a\u5230\u5bbf\u4e3b\u5143\u7d20"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},":host(selector)"),": \u6307\u5b9a\u9009\u62e9\u5668\u7684\u5bbf\u4e3b\u5143\u7d20")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"static get styles() {\n  return css`\n    /* Selects the host element */\n    :host { \n      display: block; \n    }\n\n    /* Selects the host element if it is hidden */\n    :host([hidden]) { \n      display: none; \n    }\n  `;\n}\n")),(0,a.kt)("h3",{id:"slot-\u6837\u5f0f"},"slot \u6837\u5f0f"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"::slotted()"),": \u6307\u5b9a\u5230slot\u5143\u7d20\u7684\u6837\u5f0f"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"::slotted(*)"),": \u5339\u914d\u6240\u6709\u7684slot\u5143\u7d20"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"::slotted(p)"),": \u5339\u914dslot\u4e2d\u7684\u6240\u6709p\u5143\u7d20"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"p ::slotted(*)"),": \u5339\u914dp\u6807\u7b7e\u4e2d\u7684\u6240\u6709slot\u5143\u7d20")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f: ",(0,a.kt)("inlineCode",{parentName:"p"},"::slotted()"),"\u6837\u5f0f\u5e94\u8be5\u88ab\u770b\u505a\u53ef\u4ee5\u8986\u76d6\u7684\u9ed8\u8ba4\u6837\u5f0f\u3002")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import { LitElement, html, css } from 'lit-element';\n\nclass MyElement extends LitElement {\n  static get styles() {\n    return css`\n      ::slotted(*) { font-family: Roboto; }\n      ::slotted(p) { color: blue; }\n      div ::slotted(*) { color: red; }\n    `;\n  }\n  render() {\n    return html`\n      <slot></slot>\n      <div><slot name=\"hi\"></slot></div>\n    `;\n  }\n}\n")),(0,a.kt)("h3",{id:"\u4f7f\u7528css\u53d8\u91cf"},"\u4f7f\u7528css\u53d8\u91cf"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"static get styles() {\n  return css`\n    :host { color: var(--themeColor); }\n  `;\n} \n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"<style>\n  html { \n    --themeColor: #123456;\n  }\n</style>\n<my-element></my-element>\n")),(0,a.kt)("h3",{id:"style-\u6807\u7b7e"},(0,a.kt)("inlineCode",{parentName:"h3"},"<style>")," \u6807\u7b7e"),(0,a.kt)("h4",{id:"\u5185\u90e8style"},"\u5185\u90e8",(0,a.kt)("inlineCode",{parentName:"h4"},"style")),(0,a.kt)("p",null,"\u4e0d\u63a8\u8350: \u4f1a\u4ea7\u751f\u6027\u80fd\u9650\u5236\u4ee5\u53ca\u53ef\u80fd\u4ea7\u751f\u5185\u90e8\u53d8\u91cf\u4e0d\u4f1a\u66f4\u65b0\u7684\u95ee\u9898"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"render() {\n  return html`\n    <style>\n      /* updated per instance */\n    </style>\n    <div>template content</div>\n  `;\n}\n")),(0,a.kt)("h4",{id:"\u5916\u90e8style"},"\u5916\u90e8",(0,a.kt)("inlineCode",{parentName:"h4"},"style")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"ShadyCSS polyfill"),"\u4e0d\u652f\u6301\u5916\u90e8\u6837\u5f0f\u8868"),(0,a.kt)("li",{parentName:"ul"},"\u5916\u90e8\u6837\u5f0f\u5728\u52a0\u8f7d\u65f6\u53ef\u80fd\u5bfc\u81f4\u5185\u5bb9\u672a\u663e\u793a\u6837\u5f0f\uff08",(0,a.kt)("inlineCode",{parentName:"li"},"FOUC"),"\uff09\u95ea\u70c1"),(0,a.kt)("li",{parentName:"ul"},"\u8def\u5f84\u662f\u76f8\u5bf9\u4e8e\u4e3b\u6587\u6863\u7684, \u9700\u8981\u5904\u7406\u8def\u5f84\u95ee\u9898")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'// css\n:host {\n  display: block;\n  color: blue;\n}\ndiv { \n  background: aliceblue; \n}\nbutton { \n  width: 200px; \n}\n\n// js\nrender() {\n    return html`\n      <link rel="stylesheet" href="./app-styles.css">\n      <button>a button</button>\n      <div>a div</div>\n    `;\n}\n')),(0,a.kt)("h3",{id:"classmap--stylemap"},"classMap & styleMap"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import { LitElement, html, css } from 'lit-element';\nimport { classMap } from 'lit-html/directives/class-map';\nimport { styleMap } from 'lit-html/directives/style-map';\n\nclass MyElement extends LitElement {\n  static get properties() {\n    return {\n      classes: { type: Object },\n      styles: { type: Object }\n    }\n  }\n  static get styles() {\n    return css`\n      .mydiv { background-color: blue; }\n      .someclass { border: 1px solid red; }\n    `\n  }\n  constructor() {\n    super();\n    this.classes = { mydiv: true, someclass: true };\n    this.styles = { color: 'green', fontFamily: 'Roboto' };\n  }\n  render() {\n    return html`\n      <div class=${classMap(this.classes)} style=${styleMap(this.styles)}>\n        Some content\n      </div>\n    `;\n  }\n}\n")),(0,a.kt)("h2",{id:"\u5c5e\u6027"},"\u5c5e\u6027"),(0,a.kt)("h3",{id:"\u57fa\u7840\u4f7f\u7528-2"},"\u57fa\u7840\u4f7f\u7528"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"static get properties() { \n  return { \n    greeting: {type: String},\n    data: {attribute: false},\n    items: {}\n  };\n}\n")),(0,a.kt)("h3",{id:"\u5c5e\u6027\u9009\u9879"},"\u5c5e\u6027\u9009\u9879"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"attribute"),": \u662f\u5426\u4e3a",(0,a.kt)("inlineCode",{parentName:"li"},"attribute")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"converter"),": \u81ea\u5b9a\u4e49\u8f6c\u6362\u5668"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"hadChanged"),": \u63d0\u4f9b\u4e00\u4e2a\u51fd\u6570\u5728\u5c5e\u6027\u53d8\u5316\u7684\u65f6\u5019\u89e6\u53d1"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"noAccessor"),": \u4e0d\u5141\u8bb8\u88ab\u8986\u76d6"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"reflect"),": \u53cd\u5c04"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"type"),": \u5c5e\u6027\u7684\u7c7b\u578b")),(0,a.kt)("h3",{id:"\u4e24\u79cd\u58f0\u660e\u65b9\u5f0f"},"\u4e24\u79cd\u58f0\u660e\u65b9\u5f0f"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \u65b9\u5f0f1\nstatic get properties() { \n  return { \n    prop1: { type: String },\n    prop2: { type: Number },\n    prop3: { type: Boolean }\n  };\n}\n\n// \u65b9\u5f0f2\n@property({type : String})  prop1 = 'Hello World';\n")),(0,a.kt)("h3",{id:"\u521d\u59cb\u5316"},"\u521d\u59cb\u5316"),(0,a.kt)("h4",{id:"js\u4e0b"},"JS\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"static get properties() { return { /* Property declarations */ }; } \n\nconstructor() {\n  // Always call super() first\n  super();\n\n  // Initialize properties \n  this.prop1 = 'Hello World';\n}\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u7ec4\u4ef6\u5b9e\u73b0\u7c7b\u7684\u6240\u6709\u6784\u9020\u65b9\u6cd5\u4e2d\u90fd\u5fc5\u987b\u624b\u52a8\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u65b9\u6cd5 super()")),(0,a.kt)("h4",{id:"ts\u4e0b"},"TS\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"@property({ type : String }) prop1 = 'Hello World';\n")),(0,a.kt)("h4",{id:"\u6807\u7b7e\u4e2d"},"\u6807\u7b7e\u4e2d"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<my-element \n  mystring="hello world"\n  mynumber="5"\n  mybool\n  myobj=\'{"stuff":"hi"}\'\n  myarray=\'[1,2,3,4]\'></my-element>\n')),(0,a.kt)("h3",{id:"\u5c5e\u6027\u914d\u7f6e"},"\u5c5e\u6027\u914d\u7f6e"),(0,a.kt)("h4",{id:"propertiesarrtibutes"},"properties/arrtibutes"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"properties: \u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"attributes: \u59cb\u7ec8\u662f\u5b57\u7b26\u4e32")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"p"},"oberve"),": attribute => property")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"p"},"reflect"),": property => arrtibute"))),(0,a.kt)("h4",{id:"type"},"type"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// Use LitElement's default converter \nprop1: { type: String },\nprop2: { type: Number },\nprop3: { type: Boolean },\nprop4: { type: Array },\nprop5: { type: Object }\n")),(0,a.kt)("h4",{id:"converter"},"converter"),(0,a.kt)("p",null,"\u81ea\u5b9a\u4e49\u8f6c\u6362, \u5728",(0,a.kt)("inlineCode",{parentName:"p"},"attribute"),"\u8f6c\u6362\u5230",(0,a.kt)("inlineCode",{parentName:"p"},"property"),"\u7684\u8fc7\u7a0b\u4e2d, \u5b58\u5728\u9ed8\u8ba4\u7684\u8f6c\u6362\u65b9\u5f0f, \u4e5f\u53ef\u4ee5\u81ea\u5b9a\u4e49:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"prop1: { \n  converter: { \n    fromAttribute: (value, type) => { \n      // `value` is a string\n      // Convert it to a value of type `type` and return it\n    },\n    toAttribute: (value, type) => { \n      // `value` is of type `type` \n      // Convert it to a string and return it\n    }\n  }\n}\n")),(0,a.kt)("p",null,"\u6216\u8005\u63d0\u4f9b\u4e00\u4e2a\u51fd\u6570:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"myProp: { \n  converter: (value, type) => { \n    // `value` is a string\n    // Convert it to a value of type `type` and return it\n  }\n} \n")),(0,a.kt)("h3",{id:"\u76d1\u542c\u5c5e\u6027\u548c\u975e\u76d1\u542c\u5c5e\u6027"},"\u76d1\u542c\u5c5e\u6027\u548c\u975e\u76d1\u542c\u5c5e\u6027"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// myprop\nmyProp: { type: Number }\n\n// my-prop\nmyProp: { attribute: 'my-prop' }\n\n// \u975e\u76d1\u542c\nmyProp: { attribute: false }\n")),(0,a.kt)("p",null,"\u76d1\u542c\u5c5e\u6027\u4e00\u65e6\u53d1\u751f\u53d8\u5316, \u5c31\u4f1a\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"attributeChangedCallback"),". \u67d0\u4e2a\u5c5e\u6027\u89e6\u53d1\u6b21\u56de\u8c03, \u5c31\u4f1a\u8c03\u7528\u5c5e\u6027\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"fromAttribute")),(0,a.kt)("h3",{id:"\u53cd\u5c04"},"\u53cd\u5c04"),(0,a.kt)("p",null,"\u5f53",(0,a.kt)("inlineCode",{parentName:"p"},"prop"),"\u6539\u53d8\u662f, \u5176\u503c\u4f1a\u53cd\u5c04\u5230\u5bf9\u5e94\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"observer attribute"),"\u4e2d"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"myProp: { reflect: true }\n")),(0,a.kt)("h3",{id:"\u81ea\u5b9a\u4e49\u8bbf\u95ee\u5668"},"\u81ea\u5b9a\u4e49\u8bbf\u95ee\u5668"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"static get properties() { return { myProp: { type: String } }; }\n\nset myProp(value) {\n  const oldValue = this.myProp;\n  // Implement setter logic here... \n  this.requestUpdate('myProp', oldValue);\n} \nget myProp() { ... }\n\n...\n\n// Later, set the property\nthis.myProp = 'hi'; // Invokes your accessor\n")),(0,a.kt)("h4",{id:"\u88c5\u9970\u5668\u5199\u6cd5"},"\u88c5\u9970\u5668\u5199\u6cd5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"_myProp: string = '';\n\n  @property({ type: String })\n  public get myProp(): string {\n    return this._myProp;\n  }\n  public set myProp(value: string) {\n    const oldValue = this.myProp;\n    this._myProp = value;\n    this.requestUpdate('myProp', oldValue);\n  }\n")),(0,a.kt)("h3",{id:"noaccessor"},"noAccessor"),(0,a.kt)("p",null,"\u9632\u6b62LitElement\u751f\u6210\u8986\u76d6\u7236\u7c7b\u7684\u5df2\u5b9a\u4e49\u8bbf\u95ee\u5668\u7684\u5c5e\u6027\u8bbf\u95ee\u5668, \u53ef\u4ee5\u5c06\u5c5e\u6027\u58f0\u660e\u4e3a",(0,a.kt)("inlineCode",{parentName:"p"},"true")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \u7236\u7c7b\u4e2d\nstatic get properties() {\n    return { prop: { type: Number } };\n}\n\n// \u5b50\u7c7b\u4e2d\nstatic get properties() { \n    return { prop: { reflectToAttribute: true, noAccessor: true } };\n}\n")),(0,a.kt)("h3",{id:"hadchanged"},"hadChanged"),(0,a.kt)("p",null,"\u8981\u4e3a\u5c5e\u6027\u5b9a\u5236hasChanged\uff0c\u53ef\u4ee5\u6307\u5b9a\u8be5\u9009\u9879\u6765\u81ea\u5b9a\u4e49\u5c5e\u6027\u66f4\u6539\u7684\u6bd4\u8f83\u89c4\u5219"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"myProp: { hasChanged(newVal, oldVal) {\n  // compare newVal and oldVal\n  // return `true` if an update should proceed\n}}\n")),(0,a.kt)("h2",{id:"\u4e8b\u4ef6"},"\u4e8b\u4ef6"),(0,a.kt)("h3",{id:"\u4e8b\u4ef6\u7ed1\u5b9a\u4f4d\u7f6e"},"\u4e8b\u4ef6\u7ed1\u5b9a\u4f4d\u7f6e"),(0,a.kt)("h4",{id:"\u6a21\u677f\u4e2d\u7ed1\u5b9a"},"\u6a21\u677f\u4e2d\u7ed1\u5b9a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'render() {\n  return html`<button @click="${this.handleClick}">`;\n}\n')),(0,a.kt)("h4",{id:"\u6784\u9020\u51fd\u6570\u4e2d\u7ed1\u5b9a"},"\u6784\u9020\u51fd\u6570\u4e2d\u7ed1\u5b9a"),(0,a.kt)("p",null,"\u53ef\u4ee5\u6dfb\u52a0\u76d1\u542c\u5c06\u7ec4\u4ef6\u6dfb\u52a0\u5230DOM\u4e4b\u524d\u53ef\u80fd\u53d1\u751f\u7684\u4e8b\u4ef6."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"constructor() {\n  super();\n  this.addEventListener('DOMContentLoaded', this.handleLoaded);\n}\n")),(0,a.kt)("h4",{id:"firstupdated"},"firstUpdated"),(0,a.kt)("p",null,"\u9996\u6b21\u66f4\u65b0\u548c\u6e32\u67d3\u7ec4\u5efa\u540e, \u4f1a\u89e6\u53d1",(0,a.kt)("inlineCode",{parentName:"p"},"firstUpdated"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"firstUpdated(changedProperties) {\n  this.addEventListener('click', this.handleClick);\n}\n")),(0,a.kt)("h4",{id:"connectedcallback"},"connectedCallback"),(0,a.kt)("p",null,"\u5f53\u5c06\u81ea\u5b9a\u4e49\u5143\u7d20\u9644\u52a0\u5230\u6587\u6863\u94fe\u63a5\u7684\u5143\u7d20\u4e2d, ",(0,a.kt)("inlineCode",{parentName:"p"},"connectedCallback"),"\u4f1a\u88ab\u5904\u7f5a. "),(0,a.kt)("p",null,"\u5982\u679c\u60f3\u8981\u5427\u4e8b\u4ef6\u76d1\u542c\u5230\u81ea\u8eab\u6216\u8005\u5b50\u7ea7\u4ee5\u5916\u7684\u4efb\u4f55\u4e8b\u7269(window, document)\u7b49, \u53ef\u4ee5\u5728\u8fd9\u4e2a\u94a9\u5b50\u4e2d\u6dfb\u52a0\u76d1\u542c, \u5e76\u4e14\u5728",(0,a.kt)("inlineCode",{parentName:"p"},"disconnectedCallback"),"\u5220\u9664. "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"connectedCallback() {\n  super.connectedCallback();\n  document.addEventListener('readystatechange', this.handleChange);\n}\ndisconnectedCallback() {\n  document.removeEventListener('readystatechange', this.handleChange);\n  super.disconnectedCallback();\n}\n")),(0,a.kt)("h3",{id:"\u4e8b\u4ef6\u4e2d\u7684this"},"\u4e8b\u4ef6\u4e2d\u7684this"),(0,a.kt)("p",null,"this\u6307\u5411\u7ec4\u4ef6\u672c\u8eab:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'class MyElement extends LitElement {\n  render() {\n    return html`<button @click="${this.handleClick}">click</button>`;\n  }\n  handleClick(e) {\n    console.log(this.prop);\n  }\n}\n')),(0,a.kt)("h3",{id:"\u4e8b\u4ef6\u89e6\u53d1"},"\u4e8b\u4ef6\u89e6\u53d1"),(0,a.kt)("h4",{id:"\u81ea\u5b9a\u4e49\u4e8b\u4ef6"},"\u81ea\u5b9a\u4e49\u4e8b\u4ef6"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"let event = new CustomEvent('my-event', {\n      detail: {\n        message: 'Something important happened'\n      }\n    });\nthis.dispatchEvent(event);\n")),(0,a.kt)("h4",{id:"\u6807\u51c6\u4e8b\u4ef6"},"\u6807\u51c6\u4e8b\u4ef6"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"let click = new Event('click');\nthis.dispatchEvent(click);\n")),(0,a.kt)("h4",{id:"\u5904\u7406\u4e8b\u4ef6"},"\u5904\u7406\u4e8b\u4ef6"),(0,a.kt)("p",null,"\u7ed1\u5b9a\u4e8b\u4ef6: "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<my-element @my-event="${(e) => { console.log(e.detail.message) }}"></my-element>\n')),(0,a.kt)("p",null,"\u76d1\u542c\u4e8b\u4ef6:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const myElement = document.querySelector('my-element');\nmyElement.addEventListener('my-event', (e) => {console.log(e)});\n")),(0,a.kt)("h3",{id:"\u5192\u6ce1\u91cd\u5b9a\u4f4d"},"\u5192\u6ce1\u91cd\u5b9a\u4f4d"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"shadow-dom"),"\u4e2d\u7684\u5192\u6ce1\u4f1a\u88ab\u91cd\u65b0\u5b9a\u4f4d, \u5bf9\u7ec4\u4ef6\u5916\u90e8\u6765\u8bf4, \u8fd9\u4e9b\u4e8b\u4ef6\u770b\u8d77\u6765\u90fd\u6765\u81ea\u4e8e\u7ec4\u4ef6\u672c\u8eab. "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'<my-element onClick="(e) => console.log(e.target)"></my-element>\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'render() {\n  return html`\n    <button id="mybutton" @click="${(e) => console.log(e.target)}">\n      click me\n    </button>`;\n}\n')),(0,a.kt)("p",null,"\u53ef\u4ee5\u4f7f\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"composedPath"),"\u5bfb\u627e\u8d77\u6e90:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"handleMyEvent(event) {\n  console.log('Origin: ', event.composedPath()[0]);\n}\n")),(0,a.kt)("h3",{id:"\u4e8b\u4ef6\u7a7f\u900f"},"\u4e8b\u4ef6\u7a7f\u900f"),(0,a.kt)("p",null,"\u9ed8\u8ba4\u7684, \u7ec4\u4ef6\u5185\u90e8\u7684\u4e8b\u4ef6\u5192\u6ce1\u5230",(0,a.kt)("inlineCode",{parentName:"p"},"shadow-root"),"\u5c31\u505c\u6b62\u4e86, \u9700\u8981\u7a7f\u900f\u7684\u8bdd\u9700\u8981\u5c06",(0,a.kt)("inlineCode",{parentName:"p"},"composed"),"\u548c",(0,a.kt)("inlineCode",{parentName:"p"},"bubbles"),"\u7f6e\u4e3a",(0,a.kt)("inlineCode",{parentName:"p"},"true"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"firstUpdated(changedProperties) {\n  let myEvent = new CustomEvent('my-event', { \n    detail: { message: 'my-event happened.' },\n    bubbles: true, \n    composed: true });\n  this.dispatchEvent(myEvent);\n}\n")),(0,a.kt)("h2",{id:"\u751f\u547d\u5468\u671f"},"\u751f\u547d\u5468\u671f"),(0,a.kt)("h3",{id:"\u7ec4\u4ef6\u66f4\u65b0\u6d41\u7a0b"},"\u7ec4\u4ef6\u66f4\u65b0\u6d41\u7a0b"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u5c5e\u6027\u66f4\u6539"),(0,a.kt)("li",{parentName:"ol"},"\u68c0\u67e5\u662f\u5426\u9700\u8981\u66f4\u65b0"),(0,a.kt)("li",{parentName:"ol"},"\u6267\u884c\u66f4\u65b0",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"properties/attribute"),(0,a.kt)("li",{parentName:"ul"},"render"))),(0,a.kt)("li",{parentName:"ol"},"promise.resolve()")),(0,a.kt)("h3",{id:"\u9ed8\u8ba4\u7684\u7ec4\u4ef6\u94a9\u5b50"},"\u9ed8\u8ba4\u7684\u7ec4\u4ef6\u94a9\u5b50"),(0,a.kt)("p",null,"LitElement \u7ee7\u627f\u9ed8\u8ba4\u7684\u751f\u547d\u5468\u671f."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"connectedCallback"),": \u7ec4\u4ef6\u88ab\u6dfb\u52a0\u5230",(0,a.kt)("inlineCode",{parentName:"li"},"document")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"disconnectedCallback"),": \u7ec4\u4ef6\u88ab\u5220\u9664"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"adoptedCallback"),": \u7ec4\u4ef6\u88ab\u79fb\u52a8\u5230\u4e00\u4e2a\u65b0\u7684",(0,a.kt)("inlineCode",{parentName:"li"},"document")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"attributeChangedCallback"),": \u7ec4\u4ef6\u5c5e\u6027\u88ab\u4fee\u6539")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"adoptedCallback \u6ca1\u6709 polyfilled")),(0,a.kt)("p",null,"\u6240\u6709\u7684\u751f\u547d\u5468\u671f\u56de\u8c03\u4e2d\u90fd\u9700\u8981\u8c03\u7528\u5176\u7236\u7c7b\u7684\u56de\u8c03:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"connectedCallback() {\n  super.connectedCallback()\n\n  console.log('connected')\n}\n")),(0,a.kt)("h3",{id:"\u5f02\u6b65"},"\u5f02\u6b65"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// `async` makes the function return a Promise & lets you use `await`\nasync myFunc(data) {\n  // Set a property, triggering an update\n  this.myProp = data;\n\n  // Wait for the updateComplete promise to resolve\n  await this.updateComplete;\n  // ...do stuff...\n  return 'done';\n}\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"let result = await myFunc('stuff');\n// `result` is resolved! You can do something with it\n")),(0,a.kt)("h3",{id:"\u751f\u547d\u5468\u671f\u51fd\u6570"},"\u751f\u547d\u5468\u671f\u51fd\u6570"),(0,a.kt)("p",null,"\u6309\u7167\u8c03\u7528\u987a\u5e8f: "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"someProperty.hasChanged"),": \u8c03\u7528\u5c5e\u6027\u66f4\u6539"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"requestUpdate"),": \u624b\u52a8\u66f4\u65b0"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"performUpdate"),": performUpdate\u5728\u6267\u884c\u4e0b\u4e00\u6b21\u6d4f\u89c8\u5668\u4e8b\u4ef6\u5faa\u73af\u4e4b\u524d\u88ab\u8c03\u7528"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"shouldUpdate"),": \u63a7\u5236\u662f\u5426\u5e94\u7ee7\u7eed\u8fdb\u884c\u66f4\u65b0, \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u65b9\u6cd5\u59cb\u7ec8\u8fd4\u56detrue\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"update"),": \u5c06property\u503c\u53cd\u5c04\u4e3aattributes\u5c5e\u6027\uff0c\u5e76\u901a\u8fc7lit-html\u8c03\u7528render\u6765\u6e32\u67d3DOM"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"render"),": \u4f7f\u7528lit-html\u6e32\u67d3\u5143\u7d20\u6a21\u677f"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"firstUpdate"),": \u5728\u5143\u7d20\u7684DOM\u7b2c\u4e00\u6b21\u66f4\u65b0\u4e4b\u540e\uff0c\u5373\u5728\u8c03\u7528\u66f4\u65b0\u4e4b\u524d\u7acb\u5373\u8c03\u7528"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"update"),": \u5728\u5143\u7d20\u7684DOM\u5df2\u66f4\u65b0\u548c\u5448\u73b0\u65f6\u8c03\u7528"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"updateComplete"),": \u5b8c\u6210\u66f4\u65b0")),(0,a.kt)("h3",{id:"\u624b\u52a8\u66f4\u65b0"},"\u624b\u52a8\u66f4\u65b0"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"//\u624b\u52a8\u8c03\u7528\u66f4\u65b0\nthis.requestUpdate();\n\n// \u4ece\u4e00\u4e2a\u81ea\u5b9a\u4e49\u5c5e\u6027\u7684setter\u51fd\u6570\u4e2d\u8c03\u7528\nthis.requestUpdate(propertyName, oldValue);\n")),(0,a.kt)("h2",{id:"\u53c2\u8003\u6587\u6863\u4e0e\u94fe\u63a5"},"\u53c2\u8003\u6587\u6863\u4e0e\u94fe\u63a5"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://lit-element.polymer-project.org/guide/templates"},"https://lit-element.polymer-project.org/guide/templates")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://lit-element.polymer-project.org/api/modules/_lit_element_.html"},"https://lit-element.polymer-project.org/api/modules/_lit_element_.html"))))}m.isMDXComponent=!0}}]);